{"version":3,"file":"index-3433846c.js","sources":["../../../../../ui/src/basic/button/src/index.vue","../../../../../ui/src/basic/button/src/index.vue"],"sourcesContent":["<template>\r\n  <button class=\"ruomu-ui-button\" @click=\"clickHandler\">\r\n    <slot>\r\n      <ruomu-ui-text :config=\"textConfig\"></ruomu-ui-text>\r\n    </slot>\r\n  </button>\r\n</template>\r\n<script lang=\"ts\">\r\nimport { computed, defineComponent, getCurrentInstance, PropType, reactive } from 'vue';\r\n\r\nimport { MButton, MButtonInstance, MText } from '../../../types';\r\nimport useApp from '../../../useApp';\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    config: {\r\n      type: Object as PropType<MButton>,\r\n      default: () => ({}),\r\n    },\r\n\r\n    model: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n  },\r\n  setup(props) {\r\n    useApp(props);\r\n    const vm: MButtonInstance = getCurrentInstance()?.proxy as MButtonInstance;\r\n    const actions = reactive<Function[]>([]);\r\n    const actualActions = computed(() => [\r\n      typeof props.config.preAction === 'function' ? props.config.preAction : () => true,\r\n      ...actions,\r\n      typeof props.config.postAction === 'function' ? props.config.postAction : () => true,\r\n    ]);\r\n    function pushAction(action: Function): void {\r\n      actions.push(action);\r\n    }\r\n    async function clickHandler(): Promise<void> {\r\n      for (const fn of actualActions.value) {\r\n        if (typeof fn === 'function') {\r\n          const ret = await fn(vm, { model: props.model });\r\n          if (ret === false) {\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    const textConfig = computed<MText>(() => ({\r\n      type: 'text',\r\n      text: props.config?.text || '',\r\n      disabledText: props.config?.disabledText || '',\r\n      html: props.config?.html || '',\r\n    }));\r\n\r\n    return {\r\n      pushAction,\r\n      clickHandler,\r\n      textConfig,\r\n    };\r\n  },\r\n});\r\n</script>\r\n","<template>\r\n  <button class=\"ruomu-ui-button\" @click=\"clickHandler\">\r\n    <slot>\r\n      <ruomu-ui-text :config=\"textConfig\"></ruomu-ui-text>\r\n    </slot>\r\n  </button>\r\n</template>\r\n<script lang=\"ts\">\r\nimport { computed, defineComponent, getCurrentInstance, PropType, reactive } from 'vue';\r\n\r\nimport { MButton, MButtonInstance, MText } from '../../../types';\r\nimport useApp from '../../../useApp';\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    config: {\r\n      type: Object as PropType<MButton>,\r\n      default: () => ({}),\r\n    },\r\n\r\n    model: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n  },\r\n  setup(props) {\r\n    useApp(props);\r\n    const vm: MButtonInstance = getCurrentInstance()?.proxy as MButtonInstance;\r\n    const actions = reactive<Function[]>([]);\r\n    const actualActions = computed(() => [\r\n      typeof props.config.preAction === 'function' ? props.config.preAction : () => true,\r\n      ...actions,\r\n      typeof props.config.postAction === 'function' ? props.config.postAction : () => true,\r\n    ]);\r\n    function pushAction(action: Function): void {\r\n      actions.push(action);\r\n    }\r\n    async function clickHandler(): Promise<void> {\r\n      for (const fn of actualActions.value) {\r\n        if (typeof fn === 'function') {\r\n          const ret = await fn(vm, { model: props.model });\r\n          if (ret === false) {\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    const textConfig = computed<MText>(() => ({\r\n      type: 'text',\r\n      text: props.config?.text || '',\r\n      disabledText: props.config?.disabledText || '',\r\n      html: props.config?.html || '',\r\n    }));\r\n\r\n    return {\r\n      pushAction,\r\n      clickHandler,\r\n      textConfig,\r\n    };\r\n  },\r\n});\r\n</script>\r\n"],"names":["_sfc_main","props","useApp","vm","_a","actions","actualActions","pushAction","action","clickHandler","fn","textConfig","_b","_c"],"mappings":"iFAaA,MAAeA,EAAA,IAAgB,gBAAA,CAAA,MAAA,CACtB,OAAA,CACG,KAAA,OACA,QAAA,KAAA,CAAA,EACW,EACnB,MAAA,CAEO,KAAA,OACC,QAAA,KAAA,CAAA,EACW,CACnB,EACF,MAAAC,EAAA,OAEEC,EAAAD,CAAA,EACA,MAAAE,GAA4BC,EAAA,2BAAA,YAAAA,QAC5BC,EAAgB,IAAqB,SAAA,CAAA,CAAA,EACrCC,EAAsB,kBAAe,OAAAL,EAAA,OAAA,WAAA,WAAAA,EAAA,OAAA,UAAA,IAAA,GAC2C,GAAAI,EAC3E,OAAAJ,EAAA,OAAA,YAAA,WAAAA,EAAA,OAAA,WAAA,IAAA,EAC6E,CAAA,EAElF,SAAAM,EAAAC,EAAA,CACEH,EAAA,KAAAG,CAAA,CAAmB,CAErB,eAAAC,GAAA,CACE,UAAAC,KAAAJ,EAAA,MACE,GAAA,OAAAI,GAAA,YACE,MAAAA,EAAAP,EAAA,CAAA,MAAAF,EAAA,KAAA,CAAA,IACA,GACE,KAGN,CAGF,MAAAU,EAAmB,mCAAuB,KAAA,OAClC,OAAAP,EAAAH,EAAA,SAAA,YAAAG,EAAA,OAAA,GACsB,eAAAQ,EAAAX,EAAA,SAAA,YAAAW,EAAA,eAAA,GACgB,OAAAC,EAAAZ,EAAA,SAAA,YAAAY,EAAA,OAAA,EAChB,EAAA,EAG9B,MAAA,CAAO,WAAAN,EACL,aAAAE,EACA,WAAAE,CACA,CACF,CAEJ,CAAA,kCC5DE,IAIS,iBAAA,eAAA,EAJwB,OAAA,IAAA,UAAA,EAAO,IAAA,mBAAA,SAAA,CAAA,MAAA,mFAG/B,EAAA"}